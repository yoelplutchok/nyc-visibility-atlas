# NYC Visibility Atlas - Conda Environment
# Python 3.11 with pinned scientific stack
#
# USAGE (Development):
#   conda env create -f environment.yml
#   conda activate visibility-atlas
#   pip install -e .
#
# USAGE (Exact Reproducibility):
#   conda env create -f environment.lock.yml   # Uses exact versions
#   conda activate visibility-atlas
#   pip install -e .
#
# GENERATING LOCK FILE:
#   # Option 1: Export current environment
#   conda activate visibility-atlas
#   conda env export --no-builds > environment.lock.yml
#
#   # Option 2: Use conda-lock (recommended for cross-platform)
#   pip install conda-lock
#   conda-lock -f environment.yml -p linux-64 -p osx-64 -p osx-arm64
#
# NOTE: This file uses >= constraints for flexibility during development.
# Use environment.lock.yml for exact reproducibility.

name: visibility-atlas
channels:
  - conda-forge
  - defaults

dependencies:
  # Core Python
  - python=3.11
  - pip>=23.0

  # Data manipulation
  - pandas>=2.0.0
  - numpy>=1.24.0
  - pyarrow>=14.0.0

  # Geospatial
  - geopandas>=0.14.0
  - shapely>=2.0.0
  - pyproj>=3.6.0
  - fiona>=1.9.0

  # Scientific computing
  - scipy>=1.11.0
  - scikit-learn>=1.3.0

  # Configuration and serialization
  - pyyaml>=6.0
  - jsonschema>=4.20.0

  # HTTP requests (for API calls)
  - requests>=2.31.0

  # Visualization
  - matplotlib>=3.8.0
  - seaborn>=0.13.0

  # Testing
  - pytest>=7.4.0
  - pytest-cov>=4.1.0

  # Development tools
  - black>=23.0.0
  - ruff>=0.1.0
  - mypy>=1.7.0

  # Pip-only packages (if any)
  - pip:
      - -e .

